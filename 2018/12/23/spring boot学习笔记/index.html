<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.2 -->
    <script>
        window.materialVersion = "1.5.2"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">














    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            Spring Boot核心技术学习 | 
        
        afan的博客
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" href="/img/favicon.png">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="">
    <meta name="keywords" content="afan,springboot,分布式">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/github-v2.min.css?AfzKxt++K+/lhZBlSjnxwg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg.png);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="afan的博客">
    <meta name="msapplication-starturl" content="http://yoursite.com/2018/12/23/spring boot学习笔记/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="afan的博客">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com/2018/12/23/spring boot学习笔记/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Spring Boot核心技术学习 | afan的博客">
    <meta property="og:image" content="/img/favicon.png">
    <meta property="og:description" content="">
    <meta property="og:article:tag" content="springboot"> <meta property="og:article:tag" content="分布式"> 

    
        <meta property="article:published_time" content="Sun Dec 23 2018 13:32:32 GMT+0800">
        <meta property="article:modified_time" content="Sat Jun 01 2019 17:22:03 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2018/12/23/spring boot学习笔记/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://yoursite.com/2018/12/23/spring boot学习笔记/index.html",
    "headline": "Spring Boot核心技术学习",
    "datePublished": "Sun Dec 23 2018 13:32:32 GMT+0800",
    "dateModified": "Sat Jun 01 2019 17:22:03 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "afan",
        "image": {
            "@type": "ImageObject",
            "url": "/img/head.jpg"
        },
        "description": "少年啦仰望星空"
    },
    "publisher": {
        "@type": "Organization",
        "name": "afan的博客",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/favicon.png"
        }
    },
    "keywords": ",springboot,分布式afan",
    "description": "",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#一-spring-boot-入门程序"><span class="post-toc-number">1.</span> <span class="post-toc-text">一.spring boot 入门程序</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#spring-boot-简介"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">spring boot 简介</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#微服务简介"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">微服务简介</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#spring-boot-helloworld"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">spring boot helloworld</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-创建maven工程（jar包）"><span class="post-toc-number">1.3.1.</span> <span class="post-toc-text">1. 创建maven工程（jar包）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-加入依赖"><span class="post-toc-number">1.3.2.</span> <span class="post-toc-text">2.加入依赖</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-编写主程序"><span class="post-toc-number">1.3.3.</span> <span class="post-toc-text">3.编写主程序</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-编写相关Controller"><span class="post-toc-number">1.3.4.</span> <span class="post-toc-text">4.编写相关Controller</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-测试主程序"><span class="post-toc-number">1.3.5.</span> <span class="post-toc-text">5.测试主程序</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#6-简化部署"><span class="post-toc-number">1.3.6.</span> <span class="post-toc-text">6.简化部署</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Hello-world探究"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">Hello world探究</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-POM-xml"><span class="post-toc-number">1.4.1.</span> <span class="post-toc-text">1.POM.xml</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-父项目"><span class="post-toc-number">1.4.1.1.</span> <span class="post-toc-text">1.父项目</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-启动器"><span class="post-toc-number">1.4.1.2.</span> <span class="post-toc-text">2.启动器</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-主程序类，主入口类"><span class="post-toc-number">1.4.2.</span> <span class="post-toc-text">2.主程序类，主入口类</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#使用Spring-Initializer-快速创建Spring-Boot项目"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">使用Spring Initializer 快速创建Spring Boot项目</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1、IDEA：使用-Spring-Initializer快速创建项目"><span class="post-toc-number">1.5.1.</span> <span class="post-toc-text">1、IDEA：使用 Spring Initializer快速创建项目</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#二-配置文件"><span class="post-toc-number">2.</span> <span class="post-toc-text">二.配置文件</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-配置文件"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">1.配置文件</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-YAML语法"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">2.YAML语法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-基本语法"><span class="post-toc-number">2.2.1.</span> <span class="post-toc-text">1.基本语法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-值的写法"><span class="post-toc-number">2.2.2.</span> <span class="post-toc-text">2.值的写法</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-配置文件值注入"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">3.配置文件值注入</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#从配置文件application-yml注入"><span class="post-toc-number">2.3.1.</span> <span class="post-toc-text">从配置文件application.yml注入</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#从application-properties中注入值"><span class="post-toc-number">2.3.2.</span> <span class="post-toc-text">从application.properties中注入值</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Value获取值和-ConﬁgurationProperties-获取值比较"><span class="post-toc-number">2.3.3.</span> <span class="post-toc-text">@Value获取值和@ConﬁgurationProperties**获取值比较</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#PropertySource-amp-ImportResource-amp-Bean"><span class="post-toc-number">2.3.4.</span> <span class="post-toc-text">@PropertySource&amp;@ImportResource&amp;@Bean</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#PropertySource：加载指定的配置文件"><span class="post-toc-number">2.3.4.1.</span> <span class="post-toc-text">@PropertySource：加载指定的配置文件</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#ImportResource：导入Spring的配置文件，让配置文件的内容生效"><span class="post-toc-number">2.3.4.2.</span> <span class="post-toc-text">@ImportResource：导入Spring的配置文件，让配置文件的内容生效</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#SpringBoot推荐给容器中添加组件的方式；推荐使用全注解的方式-Bean"><span class="post-toc-number">2.3.4.3.</span> <span class="post-toc-text">SpringBoot推荐给容器中添加组件的方式；推荐使用全注解的方式@Bean</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-配置文件的占位符"><span class="post-toc-number">2.3.5.</span> <span class="post-toc-text">4.配置文件的占位符</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-随机数"><span class="post-toc-number">2.3.5.1.</span> <span class="post-toc-text">1.随机数</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-占位符获取之前配置的值，如果没有可以是用-指定默认值"><span class="post-toc-number">2.3.5.2.</span> <span class="post-toc-text">2.占位符获取之前配置的值，如果没有可以是用:指定默认值</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-Profile"><span class="post-toc-number">2.3.6.</span> <span class="post-toc-text">5.Profile</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-多Proflie文件"><span class="post-toc-number">2.3.6.1.</span> <span class="post-toc-text">1.多Proflie文件</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-yml支持多文档块方式"><span class="post-toc-number">2.3.6.2.</span> <span class="post-toc-text">2.yml支持多文档块方式</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3、激活指定proﬁle"><span class="post-toc-number">2.3.6.3.</span> <span class="post-toc-text">3、激活指定proﬁle</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#配置文件加载位置"><span class="post-toc-number">2.3.7.</span> <span class="post-toc-text">配置文件加载位置</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#自动配置原理"><span class="post-toc-number">2.3.8.</span> <span class="post-toc-text">自动配置原理</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-自动配置原理"><span class="post-toc-number">2.3.8.1.</span> <span class="post-toc-text">1.自动配置原理</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#springBoot日志"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">springBoot日志</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#市面上常用的框架"><span class="post-toc-number">2.4.1.</span> <span class="post-toc-text">市面上常用的框架</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#SLF4j的使用"><span class="post-toc-number">2.4.2.</span> <span class="post-toc-text">SLF4j的使用</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-如何用SLF4j"><span class="post-toc-number">2.4.2.1.</span> <span class="post-toc-text">1.如何用SLF4j</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#遗留问题"><span class="post-toc-number">2.4.2.2.</span> <span class="post-toc-text">遗留问题</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#日志使用"><span class="post-toc-number">2.4.3.</span> <span class="post-toc-text">日志使用</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-默认配置"><span class="post-toc-number">2.4.3.1.</span> <span class="post-toc-text">1.默认配置</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#指定配置"><span class="post-toc-number">2.4.3.2.</span> <span class="post-toc-text">指定配置</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#切换日志框架"><span class="post-toc-number">2.4.3.3.</span> <span class="post-toc-text">切换日志框架</span></a></li></ol></li></ol></li></ol></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        <!-- Custom Thumbnail -->
        <div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(https://i.loli.net/2019/06/01/5cf243ad3882996076.jpg)">
    
            <p class="article-headline-p">
                Spring Boot核心技术学习
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/head.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>afan</strong>
        <span>12月 23, 2018</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/springboot/">springboot</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/分布式/">分布式</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Spring Boot核心技术学习&url=http://yoursite.com/2018/12/23/spring boot学习笔记/index.html&pic=http://yoursite.com/img/favicon.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Spring Boot核心技术学习&url=http://yoursite.com/2018/12/23/spring boot学习笔记/index.html&via=afan" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2018/12/23/spring boot学习笔记/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com/2018/12/23/spring boot学习笔记/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=afan的博客&title=Spring Boot核心技术学习&summary=&pics=http://yoursite.com/img/favicon.png&url=http://yoursite.com/2018/12/23/spring boot学习笔记/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h1 id="一-spring-boot-入门程序"><a href="#一-spring-boot-入门程序" class="headerlink" title="一.spring boot 入门程序"></a>一.spring boot 入门程序</h1><h2 id="spring-boot-简介"><a href="#spring-boot-简介" class="headerlink" title="spring boot 简介"></a>spring boot 简介</h2><blockquote>
<p>简化spring应用技术开发的一个框架</p>
<p>整个spring技术栈的一个大整合</p>
<p>J2EE开发的一站式解决方案</p>
</blockquote>
<h2 id="微服务简介"><a href="#微服务简介" class="headerlink" title="微服务简介"></a>微服务简介</h2><blockquote>
<p>微服务: 是一种架构风格（服务微化） </p>
<p>一个应用是一组小型服务,他们之间可以通过http方式互通</p>
<p>每一个功能元素最终都是一个可独立替换和独立升级的软件单元</p>
</blockquote>
<h2 id="spring-boot-helloworld"><a href="#spring-boot-helloworld" class="headerlink" title="spring boot helloworld"></a>spring boot helloworld</h2><p>一个简单功能</p>
<p>浏览器发送  hello ，服务器相应 <code>hello world</code></p>
<h3 id="1-创建maven工程（jar包）"><a href="#1-创建maven工程（jar包）" class="headerlink" title="1. 创建maven工程（jar包）"></a>1. 创建maven工程（jar包）</h3><h3 id="2-加入依赖"><a href="#2-加入依赖" class="headerlink" title="2.加入依赖"></a>2.加入依赖</h3><pre><code class="xml">
    &lt;!--
   spring boot 父节点依赖,引入这个之后相关的引入就不需要添加version配置，spring boot会自动选择最合适的版本进行添加。
    --&gt;
    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
    &lt;/parent&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;

        &lt;/dependency&gt;
    &lt;/dependencies&gt;
</code></pre>
<h3 id="3-编写主程序"><a href="#3-编写主程序" class="headerlink" title="3.编写主程序"></a>3.编写主程序</h3><pre><code class="java">/**
 * @SpringBootApplication :标注主程序类，说明是一个spring boot应用 需要在controller层的上层包下
 */
@SpringBootApplication
public class HelloMainAppcation {
    // 启动主函数
    public static void main(String[] args) {
        SpringApplication.run(HelloMainAppcation.class,args);
    }


}
</code></pre>
<h3 id="4-编写相关Controller"><a href="#4-编写相关Controller" class="headerlink" title="4.编写相关Controller"></a>4.编写相关Controller</h3><pre><code class="java">@Controller
public class HelloController {

    @RequestMapping(&quot;/hello&quot;)
    @ResponseBody
    public String  hello(){
        return &quot;hello,world&quot;;
    }

}
</code></pre>
<h3 id="5-测试主程序"><a href="#5-测试主程序" class="headerlink" title="5.测试主程序"></a>5.测试主程序</h3><h3 id="6-简化部署"><a href="#6-简化部署" class="headerlink" title="6.简化部署"></a>6.简化部署</h3><pre><code class="xml">&lt;!‐‐ 这个插件，可以将应用打包成一个可执行的jar包；‐‐&gt;
&lt;build&gt;
&lt;plugins&gt;
&lt;plugin&gt;
&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
&lt;artifactId&gt;spring‐boot‐maven‐plugin&lt;/artifactId&gt;
&lt;/plugin&gt;
&lt;/plugins&gt;
&lt;/build&gt;
</code></pre>
<p>将这个应用打成jar包，直接使用<code>java -jar</code>的命令进行执行<code>java -jar HelloWorldMainApplication.jar</code></p>
<h2 id="Hello-world探究"><a href="#Hello-world探究" class="headerlink" title="Hello world探究"></a>Hello world探究</h2><h3 id="1-POM-xml"><a href="#1-POM-xml" class="headerlink" title="1.POM.xml"></a>1.POM.xml</h3><h4 id="1-父项目"><a href="#1-父项目" class="headerlink" title="1.父项目"></a>1.父项目</h4><pre><code class="xml">&lt;parent&gt;
&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
&lt;artifactId&gt;spring‐boot‐starter‐parent&lt;/artifactId&gt;
&lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
&lt;/parent&gt;
&lt;!--它的父项目--&gt;
&lt;parent&gt;
&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
&lt;artifactId&gt;spring‐boot‐dependencies&lt;/artifactId&gt;
&lt;version&gt;1.5.9.RELEASE&lt;/version&gt;
&lt;relativePath&gt;../../spring‐boot‐dependencies&lt;/relativePath&gt;
&lt;/parent&gt;
&lt;!--他来真正管理Spring Boot应用里面的所有依赖版本；--&gt;
</code></pre>
<p>Spring Boot的版本仲裁中心；</p>
<p>以后我们导入依赖默认是不需要写版本；（没有在dependencies里面管理的依赖自然需要声明版本号）</p>
<h4 id="2-启动器"><a href="#2-启动器" class="headerlink" title="2.启动器"></a>2.启动器</h4><pre><code class="xml">&lt;dependency&gt;
&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
&lt;artifactId&gt;spring‐boot‐starter‐web&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
<p>spring-boot-starter-web：</p>
<p>spring-boot-starter：spring-boot场景启动器；帮我们导入了web模块正常运行所依赖的组件；</p>
<p>Spring Boot将所有的功能场景都抽取出来，做成一个个的starters（启动器），只需要在项目里面引入这些starter</p>
<p>相关场景的所有依赖都会导入进来。要用什么功能就导入什么场景的启动器</p>
<h3 id="2-主程序类，主入口类"><a href="#2-主程序类，主入口类" class="headerlink" title="2.主程序类，主入口类"></a>2.主程序类，主入口类</h3><pre><code class="java">/**
 * @SpringBootApplication :标注主程序类，说明是一个spring boot 用于
 */
@SpringBootApplication
public class HelloMainAppcation {
    // 启动主函数
    public static void main(String[] args) {
        SpringApplication.run(HelloMainAppcation.class,args);
    }


}
</code></pre>
<p><strong>@SpringBootApplication</strong>: Spring Boot应用标注在某个类上说明这个类是SpringBoot的主配置类，SpringBoot就应该运行这个类的main方法来启动SpringBoot应用；</p>
<p>点击进去这个注解</p>
<pre><code class="java">@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Inherited
@SpringBootConfiguration
@EnableAutoConfiguration
@ComponentScan(
    excludeFilters = {@Filter(
    type = FilterType.CUSTOM,
    classes = {TypeExcludeFilter.class}
), @Filter(
    type = FilterType.CUSTOM,
    classes = {AutoConfigurationExcludeFilter.class}
)}
)
</code></pre>
<p><strong>@SpringBootConﬁguration</strong>:Spring Boot的配置类； 标注在某个类上，表示这是一个Spring Boot的配置类；</p>
<p><strong>@Conﬁguration</strong>:配置类上来标注这个注解；</p>
<p>配置类 —– 配置文件；配置类也是容器中的一个组件；@Component</p>
<p><strong>@EnableAutoConﬁguration</strong>：开启自动配置功能；</p>
<p>以前我们需要配置的东西，Spring Boot帮我们自动配置；<strong>@EnableAutoConﬁguration</strong>告诉SpringBoot开启自动配置功能；这样自动配置才能生效；点击进入</p>
<pre><code class="java">@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Inherited
@AutoConfigurationPackage
@Import({EnableAutoConfigurationImportSelector.class})
public @interface EnableAutoConfiguration {
    String ENABLED_OVERRIDE_PROPERTY = &quot;spring.boot.enableautoconfiguration&quot;;

    Class&lt;?&gt;[] exclude() default {};

    String[] excludeName() default {};
}
</code></pre>
<p><strong>@AutoConﬁgurationPackage</strong>：自动配置包</p>
<p><strong>@Import(AutoConﬁgurationPackages.Registrar.class)</strong>：</p>
<p>Spring的底层注解@Import，给容器中导入一个组件；导入的组件由AutoConﬁgurationPackages.Registrar.class；</p>
<p>将主配置类（@SpringBootApplication标注的类）的所在包及下面所有子包里面的所有组件扫描到Spring容器；</p>
<p><strong>@Import(EnableAutoConﬁgurationImportSelector.class)</strong>； 给容器中导入组件？</p>
<p>EnableAutoConﬁgurationImportSelector：导入哪些组件的选择器；</p>
<p>将所有需要导入的组件以全类名的方式返回；这些组件就会被添加到容器中；</p>
<p>会给容器中导入非常多的自动配置类（xxxAutoConﬁguration）；就是给容器中导入这个场景需要的所有组件， 并配置好这些组件；</p>
<p>有了自动配置类，免去了我们手动编写配置注入功能组件等的工作；</p>
<p><strong>SpringFactoriesLoader.loadFactoryNames(EnableAutoConﬁguration.class,classLoader)；</strong></p>
<p>Spring Boot在启动的时候从类路径下的META-INF/spring.factories中获取EnableAutoConﬁguration指定的值，将这些值作为自动配置类导入到容器中，自动配置类就生效，帮我们进行自动配置工作；以前我们需要自己配置的东西，自动配置类都帮我们配置好了；</p>
<p>J2EE的整体整合解决方案和自动配置都在spring-boot-autoconﬁgure-1.5.9.RELEASE.jar；</p>
<h2 id="使用Spring-Initializer-快速创建Spring-Boot项目"><a href="#使用Spring-Initializer-快速创建Spring-Boot项目" class="headerlink" title="使用Spring Initializer 快速创建Spring Boot项目"></a>使用Spring Initializer 快速创建Spring Boot项目</h2><h3 id="1、IDEA：使用-Spring-Initializer快速创建项目"><a href="#1、IDEA：使用-Spring-Initializer快速创建项目" class="headerlink" title="1、IDEA：使用 Spring Initializer快速创建项目"></a>1、IDEA：使用 Spring Initializer快速创建项目</h3><p>IDE都支持使用Spring的项目创建向导快速创建一个Spring Boot项目； 选择我们需要的模块；向导会联网创建Spring Boot项目；</p>
<p>默认生成的Spring Boot项目；</p>
<ul>
<li>主程序已经生成好了，我们只需要我们自己逻辑</li>
<li>resource文件夹目录结构：<ul>
<li>static ：保存所有静态资源：js ，css images</li>
<li>templates：保存所有模板页面；（spring boot默认jar包嵌入式的tomcat，不支持jsp页面）；可以使用模板引擎（freemarker，thymeleaf）</li>
<li>application.properties：Spring boot应用配置文件；可以修改一些默认配置；</li>
</ul>
</li>
</ul>
<h1 id="二-配置文件"><a href="#二-配置文件" class="headerlink" title="二.配置文件"></a>二.配置文件</h1><h2 id="1-配置文件"><a href="#1-配置文件" class="headerlink" title="1.配置文件"></a>1.配置文件</h2><p><strong>Spring Boot</strong> 使用一个全局的配置文件，配置文件名是固定的:</p>
<ul>
<li><strong>application.properties</strong></li>
<li><strong>application.yml</strong></li>
</ul>
<p>配置文件的作用：修改SpringBoot自动配置的默认值；(SpringBoot在底层都给我们自动配置好了)</p>
<p>YAML（YAML Ain’t Markup Language）(两种说法)：</p>
<ul>
<li><p>YAML A Markup Language：是一个标记语言</p>
</li>
<li><p>YAML isn’t Markup Language：不是一个标记语言；</p>
</li>
</ul>
<p>以前的配置文件，大多使用<strong>xxx.xml</strong>文件；</p>
<p>YAML：以数据为中心，比json，xml等更适合做配置文件</p>
<p>YAMl：配置例子</p>
<pre><code class="yaml">server:
    port: 8081
</code></pre>
<p>xml例子：</p>
<pre><code class="xml">&lt;server&gt;
    &lt;port&gt;8081&lt;/port&gt;
&lt;/server&gt;
</code></pre>
<h2 id="2-YAML语法"><a href="#2-YAML语法" class="headerlink" title="2.YAML语法"></a>2.YAML语法</h2><h3 id="1-基本语法"><a href="#1-基本语法" class="headerlink" title="1.基本语法"></a>1.基本语法</h3><p>K:(空格)v     <strong>:</strong> 表示一对键值对（空格必须要）；</p>
<p>以空格的缩进来控制层级关系；只要是左对齐的一列数据，都是一个层级的</p>
<pre><code class="yacas">server:
     port: 8081
     path: /hello
</code></pre>
<p>属性和值是大小写敏感的；</p>
<h3 id="2-值的写法"><a href="#2-值的写法" class="headerlink" title="2.值的写法"></a>2.值的写法</h3><p><strong>字面量：普通的值（数字，字符串，布尔）</strong></p>
<p>   k: v ：字面直接来写；</p>
<p>  字符串默认不用加单引号或者双引号；    </p>
<p>  “ ”：双引号：不会转义字符串里面的特殊字符；特殊字符会作为本身想表示的意思</p>
<pre><code>      + name:  “zhangsan \n lisi”：输出；zhangsan 换行 lisi
</code></pre><p> ‘ ‘：单引号：会转义特殊字符，特殊字符最终只是一个普通的字符串数据</p>
<ul>
<li>name: ‘zhangsan \n lisi’：输出；zhangsan \n lisi</li>
</ul>
<p><strong>对象、Map（属性和值）（键值对）：</strong></p>
<p>k: v</p>
<pre><code>: 在下一行来写对象的属性和值的关系；注意缩进
</code></pre><p>对象还是k: v的方式</p>
<pre><code class="yaml">friends:
    lastName: zhangsan
    age: 20
</code></pre>
<p>行内写法</p>
<pre><code class="yaml">friends: {lastName: zhangsan,age: 20}
</code></pre>
<p><strong>数组（List、Set）：</strong></p>
<pre><code class="yaml">pets:
  ‐ cat
  ‐ dog
  ‐ pig
</code></pre>
<p>行内写法</p>
<pre><code class="yaml">pets: [cat,dog,pig]
</code></pre>
<h2 id="3-配置文件值注入"><a href="#3-配置文件值注入" class="headerlink" title="3.配置文件值注入"></a>3.配置文件值注入</h2><h3 id="从配置文件application-yml注入"><a href="#从配置文件application-yml注入" class="headerlink" title="从配置文件application.yml注入"></a>从配置文件<code>application.yml</code>注入</h3><pre><code class="yaml">person:
    lastName: hello
    age: 18
    boss: false
    birth: 2017/12/12
    maps: {k1: v1,k2: 12}
    lists:
        ‐ lisi
        ‐ zhaoliu
    dog:
        name: 小狗
        age: 12
</code></pre>
<p>编写javaBean</p>
<pre><code class="java">/**
 * 将配置文件中配置的每一个属性的值，映射到这个组件中
 * @ConfigurationProperties：告诉SpringBoot将本类中的所有属性和配置文件中相关的配置进行绑定；
 * prefix = &quot;person&quot;：配置文件中哪个下面的所有属性进行一一映射
 *
 * 只有这个组件是容器中的组件，才能容器提供的@ConfigurationProperties功能；
 *
 */
@Component
@ConfigurationProperties(prefix = &quot;person&quot;)
public class Person {

    private String lastName;
    private Integer age;
    private Boolean boss;
    private Date birth;
    private Map&lt;String,Object&gt; maps;
    private List&lt;Object&gt; lists;
    private Dog dog;
    get/set方法省略。。。。
}
</code></pre>
<p>我们可以导入配置文件处理器，以后编写配置就有提示了</p>
<pre><code class="xml">&lt;!‐‐导入配置文件处理器，配置文件进行绑定就会有提示‐‐&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring‐boot‐configuration‐processor&lt;/artifactId&gt;
    &lt;optional&gt;true&lt;/optional&gt;
&lt;/dependency&gt;
</code></pre>
<p>找到test文件夹下spring boot测试类测试</p>
<pre><code class="java">@RunWith(SpringRunner.class)
@SpringBootTest
public class SpringBootHelloworldQuickApplicationTests {

    @Autowired
    Person person;
    @Test
    public void contextLoads() {
        System.out.println(person);
    }

}
</code></pre>
<h3 id="从application-properties中注入值"><a href="#从application-properties中注入值" class="headerlink" title="从application.properties中注入值"></a>从<code>application.properties</code>中注入值</h3><pre><code class="properties"># person
person.last-name=张三
person.age=12
person.maps.k1=qaq
</code></pre>
<p>使用@Value获取值</p>
<pre><code class="java">@Component
//@ConfigurationProperties(prefix = &quot;person&quot;)
public class Person {
    /**
     * &lt;bean class=&quot;Person&quot;&gt;
     *  &lt;property name=&quot;lastName&quot; value=&quot;字面量/${key}从环境变量和配置文件中取值/#{spEL}&quot;&gt;&lt;/property&gt;
     * &lt;/bean&gt;
     */
    @Value(&quot;${person.last-name}&quot;)
    private String lastName;
    @Value(&quot;${person.age}&quot;)
    private Integer age;
</code></pre>
<h3 id="Value获取值和-ConﬁgurationProperties-获取值比较"><a href="#Value获取值和-ConﬁgurationProperties-获取值比较" class="headerlink" title="@Value获取值和@ConﬁgurationProperties**获取值比较"></a>@Value获取值和@ConﬁgurationProperties**获取值比较</h3><table>
<thead>
<tr>
<th></th>
<th>@ConﬁgurationProperties</th>
<th>@Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>功能</td>
<td>批量注入配置文件中的属性</td>
<td>一个个指定</td>
</tr>
<tr>
<td>松散绑定</td>
<td>支持</td>
<td>不支持，必须和配置文件中key相同</td>
</tr>
<tr>
<td>SpEL</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>JSR303数据校验</td>
<td>支持</td>
<td>不支持</td>
</tr>
</tbody>
</table>
<p>配置文件yml还是properties他们都能获取到值；</p>
<p>如果说，我们只是在某个业务逻辑中需要获取一下配置文件中的某项值，使用@Value；</p>
<p>如果说，我们专门编写了一个javaBean来和配置文件进行映射，我们就直接使用@ConﬁgurationProperties</p>
<h3 id="PropertySource-amp-ImportResource-amp-Bean"><a href="#PropertySource-amp-ImportResource-amp-Bean" class="headerlink" title="@PropertySource&amp;@ImportResource&amp;@Bean"></a>@PropertySource&amp;@ImportResource&amp;@Bean</h3><h4 id="PropertySource：加载指定的配置文件"><a href="#PropertySource：加载指定的配置文件" class="headerlink" title="@PropertySource：加载指定的配置文件"></a><strong>@PropertySource</strong>：加载指定的配置文件</h4><pre><code class="java">@PropertySource(value={&quot;classpath:p.properties&quot;})
@Component
@ConfigurationProperties(prefix = &quot;person&quot;)
public class Person {
    /**
     * &lt;bean class=&quot;Person&quot;&gt;
     *  &lt;property name=&quot;lastName&quot; value=&quot;字面量/${key}从环境变量和配置文件中取值/#{spEL}&quot;&gt;&lt;/property&gt;
     * &lt;/bean&gt;
     */
    //@Value(&quot;${person.last-name}&quot;)
    private String lastName;
    //@Value(&quot;${person.age}&quot;)
    private Integer age;
    ....
}
</code></pre>
<p><strong>注意：在指定配置文件的时候，如果全局的配置文件也配置了同样的属性，全局的配置文件优先级大于指定的</strong></p>
<h4 id="ImportResource：导入Spring的配置文件，让配置文件的内容生效"><a href="#ImportResource：导入Spring的配置文件，让配置文件的内容生效" class="headerlink" title="@ImportResource：导入Spring的配置文件，让配置文件的内容生效"></a><strong>@ImportResource</strong>：导入Spring的配置文件，让配置文件的内容生效</h4><p>Spring Boot里面没有Spring的配置文件，我们自己编写的配置文件，也不能自动识别； 想让Spring</p>
<p>的配置文件生效，加载进来；需要将@ImportResource标注在一个配置类上</p>
<pre><code class="java">@ImportResource(locations = {&quot;classpath:bean.xml&quot;})
@SpringBootApplication
public class SpringBootHelloworldQuickApplication {

    public static void main(String[] args) {
        SpringApplication.run(SpringBootHelloworldQuickApplication.class, args);
    }
}
</code></pre>
<p>自定义Spring配置文件</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;

    &lt;bean id=&quot;hello&quot; class=&quot;com.afan.service.HolleService&quot;&gt;&lt;/bean&gt;
&lt;/beans&gt;
</code></pre>
<p>测试</p>
<pre><code class="java">
    @Autowired
    ApplicationContext ioc;
    @Test
    public void testImpor(){
        boolean b = ioc.containsBean(&quot;hello&quot;);
        System.out.println(b);

    }
</code></pre>
<h4 id="SpringBoot推荐给容器中添加组件的方式；推荐使用全注解的方式-Bean"><a href="#SpringBoot推荐给容器中添加组件的方式；推荐使用全注解的方式-Bean" class="headerlink" title="SpringBoot推荐给容器中添加组件的方式；推荐使用全注解的方式@Bean"></a><code>SpringBoot</code>推荐给容器中添加组件的方式；推荐使用全注解的方式@Bean</h4><ol>
<li>配置类@Configuration————&gt;spring配置文件</li>
<li>使用@Bean给容器中添加组件</li>
</ol>
<pre><code class="java">/*
 * @Configuration：指明当前类是一个配置类；就是来替代之前的Spring配置文件
 * 在配置文件中用&lt;bean&gt;&lt;bean/&gt;标签添加组件
 */
@Configuration
public class MyConfig {
    //将方法的返回值添加到容器中；容器中这个组件默认的id就是方法名
    @Bean
    public HolleService helloService(){
        System.out.println(&quot;我是helloBean&quot;);
        return new HolleService();
    }
}

</code></pre>
<h3 id="4-配置文件的占位符"><a href="#4-配置文件的占位符" class="headerlink" title="4.配置文件的占位符"></a>4.配置文件的占位符</h3><h4 id="1-随机数"><a href="#1-随机数" class="headerlink" title="1.随机数"></a>1.随机数</h4><pre><code class="properties">${random.value}、${random.int}、${random.long}
${random.int(10)}、${random.int[1024,65536]}
</code></pre>
<h4 id="2-占位符获取之前配置的值，如果没有可以是用-指定默认值"><a href="#2-占位符获取之前配置的值，如果没有可以是用-指定默认值" class="headerlink" title="2.占位符获取之前配置的值，如果没有可以是用:指定默认值"></a>2.占位符获取之前配置的值，如果没有可以是用:指定默认值</h4><pre><code class="properties">person.last‐name=张三${random.uuid}
person.age=${random.int}
person.birth=2017/12/15
person.boss=false
person.maps.k1=v1
person.maps.k2=14
person.lists=a,b,c
person.dog.name=${person.hello:hello}_dog
person.dog.age=15
</code></pre>
<h3 id="5-Profile"><a href="#5-Profile" class="headerlink" title="5.Profile"></a>5.Profile</h3><h4 id="1-多Proflie文件"><a href="#1-多Proflie文件" class="headerlink" title="1.多Proflie文件"></a>1.多Proflie文件</h4><p>我们在主配置文件编写的时候，文件名可以是 application-{proﬁle}.properties/yml</p>
<p>默认使用application.properties的配置；</p>
<h4 id="2-yml支持多文档块方式"><a href="#2-yml支持多文档块方式" class="headerlink" title="2.yml支持多文档块方式"></a>2.yml支持多文档块方式</h4><pre><code class="yaml">server:
    port: 8081
spring:
    profiles:
    active: prod
‐‐‐
server:
    port: 8083
spring:
    profiles: dev
‐‐‐
server:
    port: 8084
    spring:
profiles: prod #指定属于哪个环境
</code></pre>
<h4 id="3、激活指定proﬁle"><a href="#3、激活指定proﬁle" class="headerlink" title="3、激活指定proﬁle"></a>3、激活指定proﬁle</h4><p>1、在配置文件中指定 spring.proﬁles.active=dev</p>
<p>2、命令行：</p>
<p>java -jar spring-boot-02-conﬁg-0.0.1-SNAPSHOT.jar –spring.proﬁles.active=dev； 可以直接在测试的时候，配置传入命令行参数</p>
<p>3、虚拟机参数；</p>
<p>-Dspring.proﬁles.active=dev</p>
<h3 id="配置文件加载位置"><a href="#配置文件加载位置" class="headerlink" title="配置文件加载位置"></a>配置文件加载位置</h3><p>springboot 启动会扫描以下位置的application.properties或者application.yml文件作为Spring boot的默认配置文件</p>
<pre><code>–ﬁle:./conﬁg/

–ﬁle:./

–classpath:/conﬁg/

–classpath:/
</code></pre><p>优先级由高到底，高优先级的配置会覆盖低优先级的配置；</p>
<p>SpringBoot会从这四个位置全部加载主配置文件；互补配置；</p>
<p>我们还可以通过spring.conﬁg.location来改变默认的配置文件位置</p>
<p>项目打包好以后，我们可以使用命令行参数的形式，启动项目的时候来指定配置文件的新位置；指定配置文件和默 认加载的这些配置文件共同起作用形成互补配置；</p>
<p><code>java -jar spring-boot-02-conﬁg-02-0.0.1-SNAPSHOT.jar –spring.conﬁg.location=G:/application.properties</code></p>
<h3 id="自动配置原理"><a href="#自动配置原理" class="headerlink" title="自动配置原理"></a>自动配置原理</h3><h4 id="1-自动配置原理"><a href="#1-自动配置原理" class="headerlink" title="1.自动配置原理"></a>1.自动配置原理</h4><ol>
<li><p>SpringBoot启动的时候加载主配置类，开启了自动配置功能<code>@EnableAutoConﬁguration</code></p>
</li>
<li><p><code>@EnableAutoConﬁguration</code>作用：</p>
<ul>
<li><p>利用EnableAutoConﬁgurationImportSelector给容器中导入一些组件</p>
</li>
<li><p>可以查看selectImports()方法的内容</p>
</li>
<li><p>List conﬁgurations = getCandidateConﬁgurations(annotationMetadata, attributes);获取候选的配置</p>
<p>SpringFactoriesLoader.loadFactoryNames()<br>扫描所有jar包类路径下 META‐INF/spring.factories<br>把扫描到的这些文件的内容包装成properties对象<br>从properties中获取到EnableAutoConfiguration.class类（类名）对应的值，然后把他们添加在容器<br>中</p>
</li>
</ul>
</li>
</ol>
<p><strong>将 类路径下 META-INF/spring.factories 里面配置的所有EnableAutoConﬁguration的值加入到了容器中</strong>；</p>
<pre><code class="xml"># Auto Configure
org.springframework.boot.autoconfigure.EnableAutoConfiguration=\
org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\
org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\
org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration,\
org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration,\
org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration,\
org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration,\
org.springframework.boot.autoconfigure.cloud.CloudAutoConfiguration,\
org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration,\
org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration,\
org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration,\
org.springframework.boot.autoconfigure.couchbase.CouchbaseAutoConfiguration,\
org.springframework.boot.autoconfigure.dao.PersistenceExceptionTranslationAutoConfiguration,
\
org.springframework.boot.autoconfigure.data.cassandra.CassandraDataAutoConfiguration,\
org.springframework.boot.autoconfigure.data.cassandra.CassandraRepositoriesAutoConfiguration
,\
org.springframework.boot.autoconfigure.data.couchbase.CouchbaseDataAutoConfiguration,\
org.springframework.boot.autoconfigure.data.couchbase.CouchbaseRepositoriesAutoConfiguration
,\
org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchAutoConfiguration,\
org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchDataAutoConfiguration
</code></pre>
<p>每一个这样的 xxxAutoConﬁguration类都是容器中的一个组件，都加入到容器中；用他们来做自动配置；</p>
<ol start="3">
<li>每一个自动配置类进行自动配置功能；</li>
<li>以HttpEncodingAutoConﬁguration（Http编码自动配置）为例解释自动配置原理；</li>
</ol>
<pre><code class="java">@Configuration //表示这是一个配置类，以前编写的配置文件一样，也可以给容器中添加组件
@EnableConfigurationProperties(HttpEncodingProperties.class) //启动指定类的
ConfigurationProperties功能；将配置文件中对应的值和HttpEncodingProperties绑定起来；并把
HttpEncodingProperties加入到ioc容器中
@ConditionalOnWebApplication //Spring底层@Conditional注解（Spring注解版），根据不同的条件，如果
满足指定的条件，整个配置类里面的配置就会生效； 判断当前应用是否是web应用，如果是，当前配置类生效
@ConditionalOnClass(CharacterEncodingFilter.class) //判断当前项目有没有这个类
CharacterEncodingFilter；SpringMVC中进行乱码解决的过滤器；
@ConditionalOnProperty(prefix = &quot;spring.http.encoding&quot;, value = &quot;enabled&quot;, matchIfMissing =
true) //判断配置文件中是否存在某个配置 spring.http.encoding.enabled；如果不存在，判断也是成立的
//即使我们配置文件中不配置pring.http.encoding.enabled=true，也是默认生效的；
public class HttpEncodingAutoConfiguration {
//他已经和SpringBoot的配置文件映射了
private final HttpEncodingProperties properties;
    //只有一个有参构造器的情况下，参数的值就会从容器中拿
public HttpEncodingAutoConfiguration(HttpEncodingProperties properties) {
this.properties = properties;
}
@Bean //给容器中添加一个组件，这个组件的某些值需要从properties中获取
@ConditionalOnMissingBean(CharacterEncodingFilter.class) //判断容器没有这个组件？
public CharacterEncodingFilter characterEncodingFilter() {
CharacterEncodingFilter filter = new OrderedCharacterEncodingFilter();
filter.setEncoding(this.properties.getCharset().name());
filter.setForceRequestEncoding(this.properties.shouldForce(Type.REQUEST));
filter.setForceResponseEncoding(this.properties.shouldForce(Type.RESPONSE));
return filter;
}
</code></pre>
<p>根据当前不同的条件判断，决定这个配置类是否生效？</p>
<p>一但这个配置类生效；这个配置类就会给容器中添加各种组件；这些组件的属性是从对应的properties类中获取 的，这些类里面的每一个属性又是和配置文件绑定的；</p>
<p>5.</p>
<pre><code class="java">@ConfigurationProperties(prefix = &quot;spring.http.encoding&quot;) //从配置文件中获取指定的值和bean的属
性进行绑定
public class HttpEncodingProperties {
public static final Charset DEFAULT_CHARSET = Charset.forName(&quot;UTF‐8&quot;);
</code></pre>
<p><strong>精髓：</strong></p>
<ol>
<li>SpringBoot启动会加载大量自动配置类</li>
<li>我们看我们需要的功能有没有SpringBoot默认写好的自动配置类；</li>
<li>我们再来看这个自动配置类中到底配置了哪些组件；（只要我们要用的组件有，我们就不需要再来配置了</li>
<li>给容器中自动配置类添加组件的时候，会从properties类中获取某些属性。我们就可以在配置文件中指定这 些属性的值；</li>
</ol>
<p><strong>xxxxAutoConﬁgurartion：自动配置类； 给容器中添加组件</strong></p>
<p><strong>xxxxProperties:封装配置文件中相关属性；</strong></p>
<p><strong>细节</strong></p>
<p>1、@Conditional派生注解（Spring注解版原生的@Conditional作用）</p>
<p>作用：必须是@Conditional指定的条件成立，才给容器中添加组件，配置里面的所有内容才生效；</p>
<p>@Conditional扩展注解 作用（判断是否满足当前指定条件）<br>@ConditionalOnJava 系统的java版本是否符合要求<br>@ConditionalOnBean 容器中存在指定Bean；<br>@ConditionalOnMissingBean 容器中不存在指定Bean；<br>@ConditionalOnExpression 满足SpEL表达式指定<br>@ConditionalOnClass 系统中有指定的类<br>@ConditionalOnMissingClass 系统中没有指定的类<br>@ConditionalOnSingleCandidate 容器中只有一个指定的Bean，或者这个Bean是首选Bean<br>@ConditionalOnProperty 系统中指定的属性是否有指定的值<br>@ConditionalOnResource 类路径下是否存在指定资源文件<br>@ConditionalOnWebApplication 当前是web环境<br>@ConditionalOnNotWebApplication 当前不是web环境<br>@ConditionalOnJndi JNDI存在指定项</p>
<p>自动配置类必须在一定的条件下才能生效； 我们怎么知道哪些自动配置类生效；</p>
<p>我们可以通过启用 debug=true属性；来让控制台打印自动配置报告，这样我们就可以很方便的知道哪些自动配置类生效；</p>
<pre><code class="xml">=========================
AUTO‐CONFIGURATION REPORT
=========================
Positive matches:（自动配置类启用的）
‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐
DispatcherServletAutoConfiguration matched:
‐ @ConditionalOnClass found required class
&#39;org.springframework.web.servlet.DispatcherServlet&#39;; @ConditionalOnMissingClass did not find
unwanted class (OnClassCondition)
‐ @ConditionalOnWebApplication (required) found StandardServletEnvironment
(OnWebApplicationCondition)
Negative matches:（没有启动，没有匹配成功的自动配置类）
‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐
ActiveMQAutoConfiguration:
Did not match:
‐ @ConditionalOnClass did not find required classes &#39;javax.jms.ConnectionFactory&#39;,
&#39;org.apache.activemq.ActiveMQConnectionFactory&#39; (OnClassCondition)
AopAutoConfiguration:
Did not match:
‐ @ConditionalOnClass did not find required classes
&#39;org.aspectj.lang.annotation.Aspect&#39;, &#39;org.aspectj.lang.reflect.Advice&#39; (OnClassCondition)
</code></pre>
<h2 id="springBoot日志"><a href="#springBoot日志" class="headerlink" title="springBoot日志"></a>springBoot日志</h2><h3 id="市面上常用的框架"><a href="#市面上常用的框架" class="headerlink" title="市面上常用的框架"></a>市面上常用的框架</h3><p>JUL、JCL、Jboss-logging、logback、log4j、log4j2、slf4j…</p>
<table>
<thead>
<tr>
<th>日志门面</th>
<th>日志实现</th>
</tr>
</thead>
<tbody>
<tr>
<td><del>JCL（Jakarta Commons Logging）</del> SLF4j（Simple Logging Facade for Java） <del>jboss-logging</del></td>
<td>Log4j ，JUL（java.util.logging） Log4j2， Logback</td>
</tr>
</tbody>
</table>
<p>左边选一个门面,右边选择实现</p>
<p>日志门面：SLF4j</p>
<p>日志实现：Logback</p>
<p>SpringBoot：底层是Spring框架，Spring框架默认是用JCL；‘ SpringBoot选用 SLF4j和logback；</p>
<h3 id="SLF4j的使用"><a href="#SLF4j的使用" class="headerlink" title="SLF4j的使用"></a>SLF4j的使用</h3><h4 id="1-如何用SLF4j"><a href="#1-如何用SLF4j" class="headerlink" title="1.如何用SLF4j"></a>1.如何用SLF4j</h4><p>以后开发的时候，日志记录方法的调用，不应该来直接调用日志的实现类，而是调用日志抽象层里面的方法； 给系统里面导入slf4j的jar和 logback的实现jar</p>
<pre><code class="java">import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

public class HelloWorld {
  public static void main(String[] args) {
    Logger logger = LoggerFactory.getLogger(HelloWorld.class);
    logger.info(&quot;Hello World&quot;);
  }
}
</code></pre>
<p>每一个日志的实现框架都有自己的配置文件。使用slf4j以后，<strong>配置文件还是做成日志实现框架自己本身的配置文 件</strong>；</p>
<h4 id="遗留问题"><a href="#遗留问题" class="headerlink" title="遗留问题"></a>遗留问题</h4><p>统一日志记录，即使是别的框架和我一起统一使用slf4j进行输出？</p>
<p>如何让系统中所有的日志都统一到slf4j；</p>
<p>1、将系统中其他日志框架先排除出去；</p>
<p>2、用中间包来替换原有的日志框架；</p>
<p>3、我们导入slf4j其他的实现</p>
<p>3、SpringBoot日志关系</p>
<p>springboot使用它来做日志功能</p>
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring‐boot‐starter‐logging&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
<p>底层依赖关系</p>
<p>总结：</p>
<p>1）、SpringBoot底层也是使用slf4j+logback的方式进行日志记录</p>
<p>2）、SpringBoot也把其他的日志都替换成了slf4j；</p>
<p>3）、中间替换包？</p>
<pre><code class="java">@SuppressWarnings(&quot;rawtypes&quot;)
public abstract class LogFactory {
static String UNSUPPORTED_OPERATION_IN_JCL_OVER_SLF4J =
&quot;http://www.slf4j.org/codes.html#unsupported_operation_in_jcl_over_slf4j&quot;;
static LogFactory logFactory = new SLF4JLogFactory();

</code></pre>
<p><strong>SpringBoot能自动适配所有的日志，而且底层使用slf4j+logback的方式记录日志，引入其他框架的时候，只需要把 这个框架依赖的日志框架排除掉即可；</strong></p>
<h3 id="日志使用"><a href="#日志使用" class="headerlink" title="日志使用"></a>日志使用</h3><h4 id="1-默认配置"><a href="#1-默认配置" class="headerlink" title="1.默认配置"></a>1.默认配置</h4><p>springboot帮我们配置好了日志</p>
<pre><code class="java">  // 日志记录器
    Logger logger = LoggerFactory.getLogger(getClass());

    @Test
    public void contextLoads() {
        // 日志级别，从小到大排列，
        // 可以调整输出级别
        logger.trace(&quot;这是trace级别&quot;);
        logger.debug(&quot;debug级别&quot;);
        //SpringBoot默认给我们使用的是info级别的，没有指定级别的就用SpringBoot默认规定的级别；root
        //级别
        logger.info(&quot;info级别&quot;);
        logger.warn(&quot;warn级别&quot;);
        logger.error(&quot;error级别&quot;);
    }

</code></pre>
<p>springboot修改日志的默认配置</p>
<pre><code class="xml">logging.level.cn.starfish=trace
#logging.path=
# 不指定路径在当前项目下生成springboot.log日志
# 可以指定完整的路径；
#logging.file=G:/springboot.log
# 在当前磁盘的根路径下创建spring文件夹和里面的log文件夹；使用 spring.log 作为默认文件
logging.path=/spring/log
# 在控制台输出的日志的格式
logging.pattern.console=%d{yyyy‐MM‐dd} [%thread] %‐5level %logger{50} ‐ %msg%n
# 指定文件中日志输出的格式
logging.pattern.file=%d{yyyy‐MM‐dd} === [%thread] === %‐5level === %logger{50} ==== %msg%n

</code></pre>
<h4 id="指定配置"><a href="#指定配置" class="headerlink" title="指定配置"></a>指定配置</h4><table>
<thead>
<tr>
<th>Logging System</th>
<th>Customization</th>
</tr>
</thead>
<tbody>
<tr>
<td>Logback</td>
<td>logback-spring.xml , logback-spring.groovy , logback.xml or logback.groovy</td>
</tr>
<tr>
<td>Log4j2</td>
<td>log4j2-spring.xml or log4j2.xml</td>
</tr>
<tr>
<td>JDK (Java Util Logging)</td>
<td>logging.properties</td>
</tr>
</tbody>
</table>
<p>ogback.xml：直接就被日志框架识别了；</p>
<p>logback-spring.xml：日志框架就不直接加载日志的配置项，由SpringBoot解析日志配置，可以使用SpringBoot</p>
<p>的高级Proﬁle功能</p>
<pre><code class="xml">&lt;springProfile name=&quot;staging&quot;&gt;
&lt;!‐‐ configuration to be enabled when the &quot;staging&quot; profile is active ‐‐&gt;
可以指定某段配置只在某个环境下生效
&lt;/springProfile&gt;
</code></pre>
<p>如开发环境和非开发环境</p>
<pre><code class="xml">&lt;appender name=&quot;stdout&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;
&lt;!‐‐
日志输出格式：
%d表示日期时间，
%thread表示线程名，
%‐5level：级别从左显示5个字符宽度
%logger{50} 表示logger名字最长50个字符，否则按照句点分割。
%msg：日志消息，
%n是换行符
‐‐&gt;
&lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;
&lt;springProfile name=&quot;dev&quot;&gt;
&lt;pattern&gt;%d{yyyy‐MM‐dd HH:mm:ss.SSS} ‐‐‐‐&gt; [%thread] ‐‐‐&gt; %‐5level
%logger{50} ‐ %msg%n&lt;/pattern&gt;
&lt;/springProfile&gt;
&lt;springProfile name=&quot;!dev&quot;&gt;
&lt;pattern&gt;%d{yyyy‐MM‐dd HH:mm:ss.SSS} ==== [%thread] ==== %‐5level
%logger{50} ‐ %msg%n&lt;/pattern&gt;
&lt;/springProfile&gt;
&lt;/layout&gt;
&lt;/appender&gt;


</code></pre>
<p>如果使用logback.xml作为日志配置文件，还要使用proﬁle功能，会有以下错误</p>
<pre><code class="xml">no applicable action for [springProfile]
</code></pre>
<h4 id="切换日志框架"><a href="#切换日志框架" class="headerlink" title="切换日志框架"></a>切换日志框架</h4><p>slf4j+log4j的方式；</p>
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring‐boot‐starter‐web&lt;/artifactId&gt;
    &lt;exclusions&gt;
        &lt;exclusion&gt;
        &lt;artifactId&gt;logback‐classic&lt;/artifactId&gt;
        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
        &lt;/exclusion&gt;
    &lt;exclusion&gt;
        &lt;artifactId&gt;log4j‐over‐slf4j&lt;/artifactId&gt;
        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
        &lt;/exclusion&gt;
    &lt;/exclusions&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
    &lt;artifactId&gt;slf4j‐log4j12&lt;/artifactId&gt;
&lt;/dependency&gt;


</code></pre>
<p>切换为log4j2</p>
<pre><code class="xml">&lt;dependency&gt;
&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
&lt;artifactId&gt;spring‐boot‐starter‐web&lt;/artifactId&gt;
&lt;exclusions&gt;
&lt;exclusion&gt;
&lt;artifactId&gt;spring‐boot‐starter‐logging&lt;/artifactId&gt;
&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
&lt;/exclusion&gt;
&lt;/exclusions&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
&lt;artifactId&gt;spring‐boot‐starter‐log4j2&lt;/artifactId&gt;
&lt;/dependency&gt;

</code></pre>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2018/12/24/springcloud核心技术学习/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2018/08/31/初识MongoDB/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/s3.jpeg);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/head.jpg" alt="afan's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        1257096364@qq.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="https://mail.qq.com/" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2018/12/">十二月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/08/">八月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/07/">七月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/06/">六月 2018<span class="sidebar_archives-count">2</span></a>
            </ul>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/前端篇/">前端篇<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/后端篇/">后端篇<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/数据库/">数据库<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/随笔/">随笔<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签">
                
                    <i class="material-icons sidebar-material-icons">loyalty</i>
                
                标签
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->


<!-- Help & Support -->
<!--

    <a href="mailto:hiviosey@gmail.com" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.help
        <span class="mdl-button__ripple-container">
          <span class="mdl-ripple"></span>
        </span>
      </div>
    </a>

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/amefan/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    
        <a href="https://www.zhihu.com/people/afan-63/activities" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-zhihu">
                <span class="visuallyhidden">Zhihu</span>
            </button><!--
     --></a>
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;2017&nbsp;-<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>afan的博客
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?d+XW6aNuIPgOn1iA7NnB4g==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>













<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.2 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
